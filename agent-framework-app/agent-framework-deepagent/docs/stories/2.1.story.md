# Story 2.1: Set up User Authentication

## Status: Draft

## Story
As a user, I want to sign up and log in, so that I can save my work.

## Acceptance Criteria
1. A user database table is created.
2. API endpoints for user registration and login (JWT-based) are implemented.
3. Frontend provides sign-up and login forms.
4. Authenticated routes are protected.
5. Passwords are hashed using Argon2 or bcrypt.
6. JWTs include expiration and refresh token mechanism outlined.
7. JWT signing keys injected via environment variables; rotation procedure documented.
8. Basic rate limiting strategy specified (placeholder).
9. Input validation & error responses avoid leaking user existence.
10. Minimal audit logging plan documented.

## Dev Notes
- Use Argon2 (preferred) or bcrypt for password hashing.
- JWT signing key: HS256 for MVP; plan RS256 for scaling.
- Document key rotation and rate limiting.
- Uniform error responses for auth endpoints.

## Tasks / Subtasks
- [ ] Create user table in database.
- [ ] Implement registration/login API endpoints.
- [ ] Build frontend forms for sign-up/login.
- [ ] Protect authenticated routes.
- [ ] Hash passwords securely.
- [ ] Implement JWT issuance and expiration.
- [ ] Document refresh token and key rotation.
- [ ] Specify rate limiting strategy.
- [ ] Validate inputs and error handling.
- [ ] Document audit logging plan.

## Project Structure Notes
- Backend: `apps/backend/app/`
- Frontend: `apps/frontend/src/`
- Update environment variable docs and README.

## Testing
- Backend: pytest for auth logic.
- Frontend: Vitest + React Testing Library for forms.
- Integration: Test login/signup flow.

## QA Results

## File List

## Dev Agent Record
- Agent Model Used:
- Debug Log References:
- Completion Notes List:
- Change Log:
